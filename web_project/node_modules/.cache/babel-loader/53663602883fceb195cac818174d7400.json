{"ast":null,"code":"'use strict';\n\nmodule.exports = quatFromFrame;\n\nfunction quatFromFrame(out, rx, ry, rz, ux, uy, uz, fx, fy, fz) {\n  var tr = rx + uy + fz;\n\n  if (l > 0) {\n    var l = Math.sqrt(tr + 1.0);\n    out[0] = 0.5 * (uz - fy) / l;\n    out[1] = 0.5 * (fx - rz) / l;\n    out[2] = 0.5 * (ry - uy) / l;\n    out[3] = 0.5 * l;\n  } else {\n    var tf = Math.max(rx, uy, fz);\n    var l = Math.sqrt(2 * tf - tr + 1.0);\n\n    if (rx >= tf) {\n      //x y z  order\n      out[0] = 0.5 * l;\n      out[1] = 0.5 * (ux + ry) / l;\n      out[2] = 0.5 * (fx + rz) / l;\n      out[3] = 0.5 * (uz - fy) / l;\n    } else if (uy >= tf) {\n      //y z x  order\n      out[0] = 0.5 * (ry + ux) / l;\n      out[1] = 0.5 * l;\n      out[2] = 0.5 * (fy + uz) / l;\n      out[3] = 0.5 * (fx - rz) / l;\n    } else {\n      //z x y  order\n      out[0] = 0.5 * (rz + fx) / l;\n      out[1] = 0.5 * (uz + fy) / l;\n      out[2] = 0.5 * l;\n      out[3] = 0.5 * (ry - ux) / l;\n    }\n  }\n\n  return out;\n}","map":{"version":3,"sources":["/Users/jingkaisu/Documents/HRfront/HalliganReviews/web_project/node_modules/orbit-camera-controller/lib/quatFromFrame.js"],"names":["module","exports","quatFromFrame","out","rx","ry","rz","ux","uy","uz","fx","fy","fz","tr","l","Math","sqrt","tf","max"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,OAAP,GAAiBC,aAAjB;;AAEA,SAASA,aAAT,CACEC,GADF,EAEEC,EAFF,EAEMC,EAFN,EAEUC,EAFV,EAGEC,EAHF,EAGMC,EAHN,EAGUC,EAHV,EAIEC,EAJF,EAIMC,EAJN,EAIUC,EAJV,EAIc;AACZ,MAAIC,EAAE,GAAGT,EAAE,GAAGI,EAAL,GAAUI,EAAnB;;AACA,MAAGE,CAAC,GAAG,CAAP,EAAU;AACR,QAAIA,CAAC,GAAGC,IAAI,CAACC,IAAL,CAAUH,EAAE,GAAG,GAAf,CAAR;AACAV,IAAAA,GAAG,CAAC,CAAD,CAAH,GAAS,OAAOM,EAAE,GAAGE,EAAZ,IAAkBG,CAA3B;AACAX,IAAAA,GAAG,CAAC,CAAD,CAAH,GAAS,OAAOO,EAAE,GAAGJ,EAAZ,IAAkBQ,CAA3B;AACAX,IAAAA,GAAG,CAAC,CAAD,CAAH,GAAS,OAAOE,EAAE,GAAGG,EAAZ,IAAkBM,CAA3B;AACAX,IAAAA,GAAG,CAAC,CAAD,CAAH,GAAS,MAAMW,CAAf;AACD,GAND,MAMO;AACL,QAAIG,EAAE,GAAGF,IAAI,CAACG,GAAL,CAASd,EAAT,EAAaI,EAAb,EAAiBI,EAAjB,CAAT;AACA,QAAIE,CAAC,GAAGC,IAAI,CAACC,IAAL,CAAU,IAAIC,EAAJ,GAASJ,EAAT,GAAc,GAAxB,CAAR;;AACA,QAAGT,EAAE,IAAIa,EAAT,EAAa;AACX;AACAd,MAAAA,GAAG,CAAC,CAAD,CAAH,GAAS,MAAMW,CAAf;AACAX,MAAAA,GAAG,CAAC,CAAD,CAAH,GAAS,OAAOI,EAAE,GAAGF,EAAZ,IAAkBS,CAA3B;AACAX,MAAAA,GAAG,CAAC,CAAD,CAAH,GAAS,OAAOO,EAAE,GAAGJ,EAAZ,IAAkBQ,CAA3B;AACAX,MAAAA,GAAG,CAAC,CAAD,CAAH,GAAS,OAAOM,EAAE,GAAGE,EAAZ,IAAkBG,CAA3B;AACD,KAND,MAMO,IAAGN,EAAE,IAAIS,EAAT,EAAa;AAClB;AACAd,MAAAA,GAAG,CAAC,CAAD,CAAH,GAAS,OAAOE,EAAE,GAAGE,EAAZ,IAAkBO,CAA3B;AACAX,MAAAA,GAAG,CAAC,CAAD,CAAH,GAAS,MAAMW,CAAf;AACAX,MAAAA,GAAG,CAAC,CAAD,CAAH,GAAS,OAAOQ,EAAE,GAAGF,EAAZ,IAAkBK,CAA3B;AACAX,MAAAA,GAAG,CAAC,CAAD,CAAH,GAAS,OAAOO,EAAE,GAAGJ,EAAZ,IAAkBQ,CAA3B;AACD,KANM,MAMA;AACL;AACAX,MAAAA,GAAG,CAAC,CAAD,CAAH,GAAS,OAAOG,EAAE,GAAGI,EAAZ,IAAkBI,CAA3B;AACAX,MAAAA,GAAG,CAAC,CAAD,CAAH,GAAS,OAAOM,EAAE,GAAGE,EAAZ,IAAkBG,CAA3B;AACAX,MAAAA,GAAG,CAAC,CAAD,CAAH,GAAS,MAAMW,CAAf;AACAX,MAAAA,GAAG,CAAC,CAAD,CAAH,GAAS,OAAOE,EAAE,GAAGE,EAAZ,IAAkBO,CAA3B;AACD;AACF;;AACD,SAAOX,GAAP;AACD","sourcesContent":["'use strict'\n\nmodule.exports = quatFromFrame\n\nfunction quatFromFrame(\n  out,\n  rx, ry, rz,\n  ux, uy, uz,\n  fx, fy, fz) {\n  var tr = rx + uy + fz\n  if(l > 0) {\n    var l = Math.sqrt(tr + 1.0)\n    out[0] = 0.5 * (uz - fy) / l\n    out[1] = 0.5 * (fx - rz) / l\n    out[2] = 0.5 * (ry - uy) / l\n    out[3] = 0.5 * l\n  } else {\n    var tf = Math.max(rx, uy, fz)\n    var l = Math.sqrt(2 * tf - tr + 1.0)\n    if(rx >= tf) {\n      //x y z  order\n      out[0] = 0.5 * l\n      out[1] = 0.5 * (ux + ry) / l\n      out[2] = 0.5 * (fx + rz) / l\n      out[3] = 0.5 * (uz - fy) / l\n    } else if(uy >= tf) {\n      //y z x  order\n      out[0] = 0.5 * (ry + ux) / l\n      out[1] = 0.5 * l\n      out[2] = 0.5 * (fy + uz) / l\n      out[3] = 0.5 * (fx - rz) / l\n    } else {\n      //z x y  order\n      out[0] = 0.5 * (rz + fx) / l\n      out[1] = 0.5 * (uz + fy) / l\n      out[2] = 0.5 * l\n      out[3] = 0.5 * (ry - ux) / l\n    }\n  }\n  return out\n}"]},"metadata":{},"sourceType":"script"}