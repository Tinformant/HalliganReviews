{"ast":null,"code":"'use strict';\n\nmodule.exports = affineHull;\n\nvar orient = require('robust-orientation');\n\nfunction linearlyIndependent(points, d) {\n  var nhull = new Array(d + 1);\n\n  for (var i = 0; i < points.length; ++i) {\n    nhull[i] = points[i];\n  }\n\n  for (var i = 0; i <= points.length; ++i) {\n    for (var j = points.length; j <= d; ++j) {\n      var x = new Array(d);\n\n      for (var k = 0; k < d; ++k) {\n        x[k] = Math.pow(j + 1 - i, k);\n      }\n\n      nhull[j] = x;\n    }\n\n    var o = orient.apply(void 0, nhull);\n\n    if (o) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction affineHull(points) {\n  var n = points.length;\n\n  if (n === 0) {\n    return [];\n  }\n\n  if (n === 1) {\n    return [0];\n  }\n\n  var d = points[0].length;\n  var frame = [points[0]];\n  var index = [0];\n\n  for (var i = 1; i < n; ++i) {\n    frame.push(points[i]);\n\n    if (!linearlyIndependent(frame, d)) {\n      frame.pop();\n      continue;\n    }\n\n    index.push(i);\n\n    if (index.length === d + 1) {\n      return index;\n    }\n  }\n\n  return index;\n}","map":{"version":3,"sources":["/Users/jingkaisu/Documents/HRfront/HalliganReviews/web_project/node_modules/affine-hull/aff.js"],"names":["module","exports","affineHull","orient","require","linearlyIndependent","points","d","nhull","Array","i","length","j","x","k","Math","pow","o","apply","n","frame","index","push","pop"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,OAAP,GAAiBC,UAAjB;;AAEA,IAAIC,MAAM,GAAGC,OAAO,CAAC,oBAAD,CAApB;;AAEA,SAASC,mBAAT,CAA6BC,MAA7B,EAAqCC,CAArC,EAAwC;AACtC,MAAIC,KAAK,GAAG,IAAIC,KAAJ,CAAUF,CAAC,GAAC,CAAZ,CAAZ;;AACA,OAAI,IAAIG,CAAC,GAAC,CAAV,EAAaA,CAAC,GAACJ,MAAM,CAACK,MAAtB,EAA8B,EAAED,CAAhC,EAAmC;AACjCF,IAAAA,KAAK,CAACE,CAAD,CAAL,GAAWJ,MAAM,CAACI,CAAD,CAAjB;AACD;;AACD,OAAI,IAAIA,CAAC,GAAC,CAAV,EAAaA,CAAC,IAAEJ,MAAM,CAACK,MAAvB,EAA+B,EAAED,CAAjC,EAAoC;AAClC,SAAI,IAAIE,CAAC,GAACN,MAAM,CAACK,MAAjB,EAAyBC,CAAC,IAAEL,CAA5B,EAA+B,EAAEK,CAAjC,EAAoC;AAClC,UAAIC,CAAC,GAAG,IAAIJ,KAAJ,CAAUF,CAAV,CAAR;;AACA,WAAI,IAAIO,CAAC,GAAC,CAAV,EAAaA,CAAC,GAACP,CAAf,EAAkB,EAAEO,CAApB,EAAuB;AACrBD,QAAAA,CAAC,CAACC,CAAD,CAAD,GAAOC,IAAI,CAACC,GAAL,CAASJ,CAAC,GAAC,CAAF,GAAIF,CAAb,EAAgBI,CAAhB,CAAP;AACD;;AACDN,MAAAA,KAAK,CAACI,CAAD,CAAL,GAAWC,CAAX;AACD;;AACD,QAAII,CAAC,GAAGd,MAAM,CAACe,KAAP,CAAa,KAAK,CAAlB,EAAqBV,KAArB,CAAR;;AACA,QAAGS,CAAH,EAAM;AACJ,aAAO,IAAP;AACD;AACF;;AACD,SAAO,KAAP;AACD;;AAED,SAASf,UAAT,CAAoBI,MAApB,EAA4B;AAC1B,MAAIa,CAAC,GAAGb,MAAM,CAACK,MAAf;;AACA,MAAGQ,CAAC,KAAK,CAAT,EAAY;AACV,WAAO,EAAP;AACD;;AACD,MAAGA,CAAC,KAAK,CAAT,EAAY;AACV,WAAO,CAAC,CAAD,CAAP;AACD;;AACD,MAAIZ,CAAC,GAAGD,MAAM,CAAC,CAAD,CAAN,CAAUK,MAAlB;AACA,MAAIS,KAAK,GAAG,CAAEd,MAAM,CAAC,CAAD,CAAR,CAAZ;AACA,MAAIe,KAAK,GAAG,CAAE,CAAF,CAAZ;;AACA,OAAI,IAAIX,CAAC,GAAC,CAAV,EAAaA,CAAC,GAACS,CAAf,EAAkB,EAAET,CAApB,EAAuB;AACrBU,IAAAA,KAAK,CAACE,IAAN,CAAWhB,MAAM,CAACI,CAAD,CAAjB;;AACA,QAAG,CAACL,mBAAmB,CAACe,KAAD,EAAQb,CAAR,CAAvB,EAAmC;AACjCa,MAAAA,KAAK,CAACG,GAAN;AACA;AACD;;AACDF,IAAAA,KAAK,CAACC,IAAN,CAAWZ,CAAX;;AACA,QAAGW,KAAK,CAACV,MAAN,KAAiBJ,CAAC,GAAC,CAAtB,EAAyB;AACvB,aAAOc,KAAP;AACD;AACF;;AACD,SAAOA,KAAP;AACD","sourcesContent":["'use strict'\n\nmodule.exports = affineHull\n\nvar orient = require('robust-orientation')\n\nfunction linearlyIndependent(points, d) {\n  var nhull = new Array(d+1)\n  for(var i=0; i<points.length; ++i) {\n    nhull[i] = points[i]\n  }\n  for(var i=0; i<=points.length; ++i) {\n    for(var j=points.length; j<=d; ++j) {\n      var x = new Array(d)\n      for(var k=0; k<d; ++k) {\n        x[k] = Math.pow(j+1-i, k)\n      }\n      nhull[j] = x\n    }\n    var o = orient.apply(void 0, nhull)\n    if(o) {\n      return true\n    }\n  }\n  return false\n}\n\nfunction affineHull(points) {\n  var n = points.length\n  if(n === 0) {\n    return []\n  }\n  if(n === 1) {\n    return [0]\n  }\n  var d = points[0].length\n  var frame = [ points[0] ]\n  var index = [ 0 ]\n  for(var i=1; i<n; ++i) {\n    frame.push(points[i])\n    if(!linearlyIndependent(frame, d)) {\n      frame.pop()\n      continue\n    }\n    index.push(i)\n    if(index.length === d+1) {\n      return index\n    }\n  }\n  return index\n}"]},"metadata":{},"sourceType":"script"}