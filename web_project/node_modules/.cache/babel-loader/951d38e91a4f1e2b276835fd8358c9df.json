{"ast":null,"code":"/**\n* Copyright 2012-2020, Plotly, Inc.\n* All rights reserved.\n*\n* This source code is licensed under the MIT license found in the\n* LICENSE file in the root directory of this source tree.\n*/\n'use strict';\n\nvar d3 = require('d3');\n\nvar Drawing = require('../../components/drawing');\n\nvar Color = require('../../components/color');\n\nvar DESELECTDIM = require('../../constants/interactions').DESELECTDIM;\n\nvar barStyle = require('../bar/style');\n\nvar resizeText = require('../bar/uniform_text').resizeText;\n\nvar styleTextPoints = barStyle.styleTextPoints;\n\nfunction style(gd, cd, sel) {\n  var s = sel ? sel : d3.select(gd).selectAll('g.funnellayer').selectAll('g.trace');\n  resizeText(gd, s, 'funnel');\n  s.style('opacity', function (d) {\n    return d[0].trace.opacity;\n  });\n  s.each(function (d) {\n    var gTrace = d3.select(this);\n    var trace = d[0].trace;\n    gTrace.selectAll('.point > path').each(function (di) {\n      if (!di.isBlank) {\n        var cont = trace.marker;\n        d3.select(this).call(Color.fill, di.mc || cont.color).call(Color.stroke, di.mlc || cont.line.color).call(Drawing.dashLine, cont.line.dash, di.mlw || cont.line.width).style('opacity', trace.selectedpoints && !di.selected ? DESELECTDIM : 1);\n      }\n    });\n    styleTextPoints(gTrace, trace, gd);\n    gTrace.selectAll('.regions').each(function () {\n      d3.select(this).selectAll('path').style('stroke-width', 0).call(Color.fill, trace.connector.fillcolor);\n    });\n    gTrace.selectAll('.lines').each(function () {\n      var cont = trace.connector.line;\n      Drawing.lineGroupStyle(d3.select(this).selectAll('path'), cont.width, cont.color, cont.dash);\n    });\n  });\n}\n\nmodule.exports = {\n  style: style\n};","map":{"version":3,"sources":["/Users/jingkaisu/Documents/HRfront/HalliganReviews/web_project/node_modules/plotly.js/src/traces/funnel/style.js"],"names":["d3","require","Drawing","Color","DESELECTDIM","barStyle","resizeText","styleTextPoints","style","gd","cd","sel","s","select","selectAll","d","trace","opacity","each","gTrace","di","isBlank","cont","marker","call","fill","mc","color","stroke","mlc","line","dashLine","dash","mlw","width","selectedpoints","selected","connector","fillcolor","lineGroupStyle","module","exports"],"mappings":"AAAA;;;;;;;AAQA;;AAEA,IAAIA,EAAE,GAAGC,OAAO,CAAC,IAAD,CAAhB;;AAEA,IAAIC,OAAO,GAAGD,OAAO,CAAC,0BAAD,CAArB;;AACA,IAAIE,KAAK,GAAGF,OAAO,CAAC,wBAAD,CAAnB;;AACA,IAAIG,WAAW,GAAGH,OAAO,CAAC,8BAAD,CAAP,CAAwCG,WAA1D;;AACA,IAAIC,QAAQ,GAAGJ,OAAO,CAAC,cAAD,CAAtB;;AACA,IAAIK,UAAU,GAAGL,OAAO,CAAC,qBAAD,CAAP,CAA+BK,UAAhD;;AACA,IAAIC,eAAe,GAAGF,QAAQ,CAACE,eAA/B;;AAEA,SAASC,KAAT,CAAeC,EAAf,EAAmBC,EAAnB,EAAuBC,GAAvB,EAA4B;AACxB,MAAIC,CAAC,GAAGD,GAAG,GAAGA,GAAH,GAASX,EAAE,CAACa,MAAH,CAAUJ,EAAV,EAAcK,SAAd,CAAwB,eAAxB,EAAyCA,SAAzC,CAAmD,SAAnD,CAApB;AACAR,EAAAA,UAAU,CAACG,EAAD,EAAKG,CAAL,EAAQ,QAAR,CAAV;AAEAA,EAAAA,CAAC,CAACJ,KAAF,CAAQ,SAAR,EAAmB,UAASO,CAAT,EAAY;AAAE,WAAOA,CAAC,CAAC,CAAD,CAAD,CAAKC,KAAL,CAAWC,OAAlB;AAA4B,GAA7D;AAEAL,EAAAA,CAAC,CAACM,IAAF,CAAO,UAASH,CAAT,EAAY;AACf,QAAII,MAAM,GAAGnB,EAAE,CAACa,MAAH,CAAU,IAAV,CAAb;AACA,QAAIG,KAAK,GAAGD,CAAC,CAAC,CAAD,CAAD,CAAKC,KAAjB;AAEAG,IAAAA,MAAM,CAACL,SAAP,CAAiB,eAAjB,EAAkCI,IAAlC,CAAuC,UAASE,EAAT,EAAa;AAChD,UAAG,CAACA,EAAE,CAACC,OAAP,EAAgB;AACZ,YAAIC,IAAI,GAAGN,KAAK,CAACO,MAAjB;AAEAvB,QAAAA,EAAE,CAACa,MAAH,CAAU,IAAV,EACKW,IADL,CACUrB,KAAK,CAACsB,IADhB,EACsBL,EAAE,CAACM,EAAH,IAASJ,IAAI,CAACK,KADpC,EAEKH,IAFL,CAEUrB,KAAK,CAACyB,MAFhB,EAEwBR,EAAE,CAACS,GAAH,IAAUP,IAAI,CAACQ,IAAL,CAAUH,KAF5C,EAGKH,IAHL,CAGUtB,OAAO,CAAC6B,QAHlB,EAG4BT,IAAI,CAACQ,IAAL,CAAUE,IAHtC,EAG4CZ,EAAE,CAACa,GAAH,IAAUX,IAAI,CAACQ,IAAL,CAAUI,KAHhE,EAIK1B,KAJL,CAIW,SAJX,EAIsBQ,KAAK,CAACmB,cAAN,IAAwB,CAACf,EAAE,CAACgB,QAA5B,GAAuChC,WAAvC,GAAqD,CAJ3E;AAKH;AACJ,KAVD;AAYAG,IAAAA,eAAe,CAACY,MAAD,EAASH,KAAT,EAAgBP,EAAhB,CAAf;AAEAU,IAAAA,MAAM,CAACL,SAAP,CAAiB,UAAjB,EAA6BI,IAA7B,CAAkC,YAAW;AACzClB,MAAAA,EAAE,CAACa,MAAH,CAAU,IAAV,EAAgBC,SAAhB,CAA0B,MAA1B,EAAkCN,KAAlC,CAAwC,cAAxC,EAAwD,CAAxD,EAA2DgB,IAA3D,CAAgErB,KAAK,CAACsB,IAAtE,EAA4ET,KAAK,CAACqB,SAAN,CAAgBC,SAA5F;AACH,KAFD;AAIAnB,IAAAA,MAAM,CAACL,SAAP,CAAiB,QAAjB,EAA2BI,IAA3B,CAAgC,YAAW;AACvC,UAAII,IAAI,GAAGN,KAAK,CAACqB,SAAN,CAAgBP,IAA3B;AAEA5B,MAAAA,OAAO,CAACqC,cAAR,CACIvC,EAAE,CAACa,MAAH,CAAU,IAAV,EAAgBC,SAAhB,CAA0B,MAA1B,CADJ,EAEIQ,IAAI,CAACY,KAFT,EAGIZ,IAAI,CAACK,KAHT,EAIIL,IAAI,CAACU,IAJT;AAMH,KATD;AAUH,GAhCD;AAiCH;;AAEDQ,MAAM,CAACC,OAAP,GAAiB;AACbjC,EAAAA,KAAK,EAAEA;AADM,CAAjB","sourcesContent":["/**\n* Copyright 2012-2020, Plotly, Inc.\n* All rights reserved.\n*\n* This source code is licensed under the MIT license found in the\n* LICENSE file in the root directory of this source tree.\n*/\n\n'use strict';\n\nvar d3 = require('d3');\n\nvar Drawing = require('../../components/drawing');\nvar Color = require('../../components/color');\nvar DESELECTDIM = require('../../constants/interactions').DESELECTDIM;\nvar barStyle = require('../bar/style');\nvar resizeText = require('../bar/uniform_text').resizeText;\nvar styleTextPoints = barStyle.styleTextPoints;\n\nfunction style(gd, cd, sel) {\n    var s = sel ? sel : d3.select(gd).selectAll('g.funnellayer').selectAll('g.trace');\n    resizeText(gd, s, 'funnel');\n\n    s.style('opacity', function(d) { return d[0].trace.opacity; });\n\n    s.each(function(d) {\n        var gTrace = d3.select(this);\n        var trace = d[0].trace;\n\n        gTrace.selectAll('.point > path').each(function(di) {\n            if(!di.isBlank) {\n                var cont = trace.marker;\n\n                d3.select(this)\n                    .call(Color.fill, di.mc || cont.color)\n                    .call(Color.stroke, di.mlc || cont.line.color)\n                    .call(Drawing.dashLine, cont.line.dash, di.mlw || cont.line.width)\n                    .style('opacity', trace.selectedpoints && !di.selected ? DESELECTDIM : 1);\n            }\n        });\n\n        styleTextPoints(gTrace, trace, gd);\n\n        gTrace.selectAll('.regions').each(function() {\n            d3.select(this).selectAll('path').style('stroke-width', 0).call(Color.fill, trace.connector.fillcolor);\n        });\n\n        gTrace.selectAll('.lines').each(function() {\n            var cont = trace.connector.line;\n\n            Drawing.lineGroupStyle(\n                d3.select(this).selectAll('path'),\n                cont.width,\n                cont.color,\n                cont.dash\n            );\n        });\n    });\n}\n\nmodule.exports = {\n    style: style\n};\n"]},"metadata":{},"sourceType":"script"}