{"ast":null,"code":"/*\nInput:  translation ; a 3 component vector\n        scale       ; a 3 component vector\n        skew        ; skew factors XY,XZ,YZ represented as a 3 component vector\n        perspective ; a 4 component vector\n        quaternion  ; a 4 component vector\nOutput: matrix      ; a 4x4 matrix\n\nFrom: http://www.w3.org/TR/css3-transforms/#recomposing-to-a-3d-matrix\n*/\nvar mat4 = {\n  identity: require('gl-mat4/identity'),\n  translate: require('gl-mat4/translate'),\n  multiply: require('gl-mat4/multiply'),\n  create: require('gl-mat4/create'),\n  scale: require('gl-mat4/scale'),\n  fromRotationTranslation: require('gl-mat4/fromRotationTranslation')\n};\nvar rotationMatrix = mat4.create();\nvar temp = mat4.create();\n\nmodule.exports = function recomposeMat4(matrix, translation, scale, skew, perspective, quaternion) {\n  mat4.identity(matrix); //apply translation & rotation\n\n  mat4.fromRotationTranslation(matrix, quaternion, translation); //apply perspective\n\n  matrix[3] = perspective[0];\n  matrix[7] = perspective[1];\n  matrix[11] = perspective[2];\n  matrix[15] = perspective[3]; // apply skew\n  // temp is a identity 4x4 matrix initially\n\n  mat4.identity(temp);\n\n  if (skew[2] !== 0) {\n    temp[9] = skew[2];\n    mat4.multiply(matrix, matrix, temp);\n  }\n\n  if (skew[1] !== 0) {\n    temp[9] = 0;\n    temp[8] = skew[1];\n    mat4.multiply(matrix, matrix, temp);\n  }\n\n  if (skew[0] !== 0) {\n    temp[8] = 0;\n    temp[4] = skew[0];\n    mat4.multiply(matrix, matrix, temp);\n  } //apply scale\n\n\n  mat4.scale(matrix, matrix, scale);\n  return matrix;\n};","map":{"version":3,"sources":["/Users/jingkaisu/Documents/HRfront/HalliganReviews/web_project/node_modules/mat4-recompose/index.js"],"names":["mat4","identity","require","translate","multiply","create","scale","fromRotationTranslation","rotationMatrix","temp","module","exports","recomposeMat4","matrix","translation","skew","perspective","quaternion"],"mappings":"AAAA;;;;;;;;;;AAWA,IAAIA,IAAI,GAAG;AACPC,EAAAA,QAAQ,EAAEC,OAAO,CAAC,kBAAD,CADV;AAEPC,EAAAA,SAAS,EAAED,OAAO,CAAC,mBAAD,CAFX;AAGPE,EAAAA,QAAQ,EAAEF,OAAO,CAAC,kBAAD,CAHV;AAIPG,EAAAA,MAAM,EAAEH,OAAO,CAAC,gBAAD,CAJR;AAKPI,EAAAA,KAAK,EAAEJ,OAAO,CAAC,eAAD,CALP;AAMPK,EAAAA,uBAAuB,EAAEL,OAAO,CAAC,iCAAD;AANzB,CAAX;AASA,IAAIM,cAAc,GAAGR,IAAI,CAACK,MAAL,EAArB;AACA,IAAII,IAAI,GAAGT,IAAI,CAACK,MAAL,EAAX;;AAEAK,MAAM,CAACC,OAAP,GAAiB,SAASC,aAAT,CAAuBC,MAAvB,EAA+BC,WAA/B,EAA4CR,KAA5C,EAAmDS,IAAnD,EAAyDC,WAAzD,EAAsEC,UAAtE,EAAkF;AAC/FjB,EAAAA,IAAI,CAACC,QAAL,CAAcY,MAAd,EAD+F,CAG/F;;AACAb,EAAAA,IAAI,CAACO,uBAAL,CAA6BM,MAA7B,EAAqCI,UAArC,EAAiDH,WAAjD,EAJ+F,CAM/F;;AACAD,EAAAA,MAAM,CAAC,CAAD,CAAN,GAAYG,WAAW,CAAC,CAAD,CAAvB;AACAH,EAAAA,MAAM,CAAC,CAAD,CAAN,GAAYG,WAAW,CAAC,CAAD,CAAvB;AACAH,EAAAA,MAAM,CAAC,EAAD,CAAN,GAAaG,WAAW,CAAC,CAAD,CAAxB;AACAH,EAAAA,MAAM,CAAC,EAAD,CAAN,GAAaG,WAAW,CAAC,CAAD,CAAxB,CAV+F,CAY/F;AACA;;AACAhB,EAAAA,IAAI,CAACC,QAAL,CAAcQ,IAAd;;AAEA,MAAIM,IAAI,CAAC,CAAD,CAAJ,KAAY,CAAhB,EAAmB;AACfN,IAAAA,IAAI,CAAC,CAAD,CAAJ,GAAUM,IAAI,CAAC,CAAD,CAAd;AACAf,IAAAA,IAAI,CAACI,QAAL,CAAcS,MAAd,EAAsBA,MAAtB,EAA8BJ,IAA9B;AACH;;AAED,MAAIM,IAAI,CAAC,CAAD,CAAJ,KAAY,CAAhB,EAAmB;AACfN,IAAAA,IAAI,CAAC,CAAD,CAAJ,GAAU,CAAV;AACAA,IAAAA,IAAI,CAAC,CAAD,CAAJ,GAAUM,IAAI,CAAC,CAAD,CAAd;AACAf,IAAAA,IAAI,CAACI,QAAL,CAAcS,MAAd,EAAsBA,MAAtB,EAA8BJ,IAA9B;AACH;;AAED,MAAIM,IAAI,CAAC,CAAD,CAAJ,KAAY,CAAhB,EAAmB;AACfN,IAAAA,IAAI,CAAC,CAAD,CAAJ,GAAU,CAAV;AACAA,IAAAA,IAAI,CAAC,CAAD,CAAJ,GAAUM,IAAI,CAAC,CAAD,CAAd;AACAf,IAAAA,IAAI,CAACI,QAAL,CAAcS,MAAd,EAAsBA,MAAtB,EAA8BJ,IAA9B;AACH,GA/B8F,CAiC/F;;;AACAT,EAAAA,IAAI,CAACM,KAAL,CAAWO,MAAX,EAAmBA,MAAnB,EAA2BP,KAA3B;AACA,SAAOO,MAAP;AACH,CApCD","sourcesContent":["/*\nInput:  translation ; a 3 component vector\n        scale       ; a 3 component vector\n        skew        ; skew factors XY,XZ,YZ represented as a 3 component vector\n        perspective ; a 4 component vector\n        quaternion  ; a 4 component vector\nOutput: matrix      ; a 4x4 matrix\n\nFrom: http://www.w3.org/TR/css3-transforms/#recomposing-to-a-3d-matrix\n*/\n\nvar mat4 = {\n    identity: require('gl-mat4/identity'),\n    translate: require('gl-mat4/translate'),\n    multiply: require('gl-mat4/multiply'),\n    create: require('gl-mat4/create'),\n    scale: require('gl-mat4/scale'),\n    fromRotationTranslation: require('gl-mat4/fromRotationTranslation')\n}\n\nvar rotationMatrix = mat4.create()\nvar temp = mat4.create()\n\nmodule.exports = function recomposeMat4(matrix, translation, scale, skew, perspective, quaternion) {\n    mat4.identity(matrix)\n\n    //apply translation & rotation\n    mat4.fromRotationTranslation(matrix, quaternion, translation)\n\n    //apply perspective\n    matrix[3] = perspective[0]\n    matrix[7] = perspective[1]\n    matrix[11] = perspective[2]\n    matrix[15] = perspective[3]\n        \n    // apply skew\n    // temp is a identity 4x4 matrix initially\n    mat4.identity(temp)\n\n    if (skew[2] !== 0) {\n        temp[9] = skew[2]\n        mat4.multiply(matrix, matrix, temp)\n    }\n\n    if (skew[1] !== 0) {\n        temp[9] = 0\n        temp[8] = skew[1]\n        mat4.multiply(matrix, matrix, temp)\n    }\n\n    if (skew[0] !== 0) {\n        temp[8] = 0\n        temp[4] = skew[0]\n        mat4.multiply(matrix, matrix, temp)\n    }\n\n    //apply scale\n    mat4.scale(matrix, matrix, scale)\n    return matrix\n}"]},"metadata":{},"sourceType":"script"}