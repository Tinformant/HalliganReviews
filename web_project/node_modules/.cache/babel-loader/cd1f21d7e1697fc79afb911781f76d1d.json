{"ast":null,"code":"/**\n* Copyright 2012-2020, Plotly, Inc.\n* All rights reserved.\n*\n* This source code is licensed under the MIT license found in the\n* LICENSE file in the root directory of this source tree.\n*/\n'use strict';\n\nvar d3 = require('d3');\n\nvar Color = require('../../components/color');\n\nvar Lib = require('../../lib');\n\nvar resizeText = require('../bar/uniform_text').resizeText;\n\nfunction style(gd) {\n  var s = gd._fullLayout._sunburstlayer.selectAll('.trace');\n\n  resizeText(gd, s, 'sunburst');\n  s.each(function (cd) {\n    var gTrace = d3.select(this);\n    var cd0 = cd[0];\n    var trace = cd0.trace;\n    gTrace.style('opacity', trace.opacity);\n    gTrace.selectAll('path.surface').each(function (pt) {\n      d3.select(this).call(styleOne, pt, trace);\n    });\n  });\n}\n\nfunction styleOne(s, pt, trace) {\n  var cdi = pt.data.data;\n  var isLeaf = !pt.children;\n  var ptNumber = cdi.i;\n  var lineColor = Lib.castOption(trace, ptNumber, 'marker.line.color') || Color.defaultLine;\n  var lineWidth = Lib.castOption(trace, ptNumber, 'marker.line.width') || 0;\n  s.style('stroke-width', lineWidth).call(Color.fill, cdi.color).call(Color.stroke, lineColor).style('opacity', isLeaf ? trace.leaf.opacity : null);\n}\n\nmodule.exports = {\n  style: style,\n  styleOne: styleOne\n};","map":{"version":3,"sources":["/Users/jingkaisu/Documents/HRfront/HalliganReviews/web_project/node_modules/plotly.js/src/traces/sunburst/style.js"],"names":["d3","require","Color","Lib","resizeText","style","gd","s","_fullLayout","_sunburstlayer","selectAll","each","cd","gTrace","select","cd0","trace","opacity","pt","call","styleOne","cdi","data","isLeaf","children","ptNumber","i","lineColor","castOption","defaultLine","lineWidth","fill","color","stroke","leaf","module","exports"],"mappings":"AAAA;;;;;;;AAQA;;AAEA,IAAIA,EAAE,GAAGC,OAAO,CAAC,IAAD,CAAhB;;AACA,IAAIC,KAAK,GAAGD,OAAO,CAAC,wBAAD,CAAnB;;AACA,IAAIE,GAAG,GAAGF,OAAO,CAAC,WAAD,CAAjB;;AACA,IAAIG,UAAU,GAAGH,OAAO,CAAC,qBAAD,CAAP,CAA+BG,UAAhD;;AAEA,SAASC,KAAT,CAAeC,EAAf,EAAmB;AACf,MAAIC,CAAC,GAAGD,EAAE,CAACE,WAAH,CAAeC,cAAf,CAA8BC,SAA9B,CAAwC,QAAxC,CAAR;;AACAN,EAAAA,UAAU,CAACE,EAAD,EAAKC,CAAL,EAAQ,UAAR,CAAV;AAEAA,EAAAA,CAAC,CAACI,IAAF,CAAO,UAASC,EAAT,EAAa;AAChB,QAAIC,MAAM,GAAGb,EAAE,CAACc,MAAH,CAAU,IAAV,CAAb;AACA,QAAIC,GAAG,GAAGH,EAAE,CAAC,CAAD,CAAZ;AACA,QAAII,KAAK,GAAGD,GAAG,CAACC,KAAhB;AAEAH,IAAAA,MAAM,CAACR,KAAP,CAAa,SAAb,EAAwBW,KAAK,CAACC,OAA9B;AAEAJ,IAAAA,MAAM,CAACH,SAAP,CAAiB,cAAjB,EAAiCC,IAAjC,CAAsC,UAASO,EAAT,EAAa;AAC/ClB,MAAAA,EAAE,CAACc,MAAH,CAAU,IAAV,EAAgBK,IAAhB,CAAqBC,QAArB,EAA+BF,EAA/B,EAAmCF,KAAnC;AACH,KAFD;AAGH,GAVD;AAWH;;AAED,SAASI,QAAT,CAAkBb,CAAlB,EAAqBW,EAArB,EAAyBF,KAAzB,EAAgC;AAC5B,MAAIK,GAAG,GAAGH,EAAE,CAACI,IAAH,CAAQA,IAAlB;AACA,MAAIC,MAAM,GAAG,CAACL,EAAE,CAACM,QAAjB;AACA,MAAIC,QAAQ,GAAGJ,GAAG,CAACK,CAAnB;AACA,MAAIC,SAAS,GAAGxB,GAAG,CAACyB,UAAJ,CAAeZ,KAAf,EAAsBS,QAAtB,EAAgC,mBAAhC,KAAwDvB,KAAK,CAAC2B,WAA9E;AACA,MAAIC,SAAS,GAAG3B,GAAG,CAACyB,UAAJ,CAAeZ,KAAf,EAAsBS,QAAtB,EAAgC,mBAAhC,KAAwD,CAAxE;AAEAlB,EAAAA,CAAC,CAACF,KAAF,CAAQ,cAAR,EAAwByB,SAAxB,EACKX,IADL,CACUjB,KAAK,CAAC6B,IADhB,EACsBV,GAAG,CAACW,KAD1B,EAEKb,IAFL,CAEUjB,KAAK,CAAC+B,MAFhB,EAEwBN,SAFxB,EAGKtB,KAHL,CAGW,SAHX,EAGsBkB,MAAM,GAAGP,KAAK,CAACkB,IAAN,CAAWjB,OAAd,GAAwB,IAHpD;AAIH;;AAEDkB,MAAM,CAACC,OAAP,GAAiB;AACb/B,EAAAA,KAAK,EAAEA,KADM;AAEbe,EAAAA,QAAQ,EAAEA;AAFG,CAAjB","sourcesContent":["/**\n* Copyright 2012-2020, Plotly, Inc.\n* All rights reserved.\n*\n* This source code is licensed under the MIT license found in the\n* LICENSE file in the root directory of this source tree.\n*/\n\n'use strict';\n\nvar d3 = require('d3');\nvar Color = require('../../components/color');\nvar Lib = require('../../lib');\nvar resizeText = require('../bar/uniform_text').resizeText;\n\nfunction style(gd) {\n    var s = gd._fullLayout._sunburstlayer.selectAll('.trace');\n    resizeText(gd, s, 'sunburst');\n\n    s.each(function(cd) {\n        var gTrace = d3.select(this);\n        var cd0 = cd[0];\n        var trace = cd0.trace;\n\n        gTrace.style('opacity', trace.opacity);\n\n        gTrace.selectAll('path.surface').each(function(pt) {\n            d3.select(this).call(styleOne, pt, trace);\n        });\n    });\n}\n\nfunction styleOne(s, pt, trace) {\n    var cdi = pt.data.data;\n    var isLeaf = !pt.children;\n    var ptNumber = cdi.i;\n    var lineColor = Lib.castOption(trace, ptNumber, 'marker.line.color') || Color.defaultLine;\n    var lineWidth = Lib.castOption(trace, ptNumber, 'marker.line.width') || 0;\n\n    s.style('stroke-width', lineWidth)\n        .call(Color.fill, cdi.color)\n        .call(Color.stroke, lineColor)\n        .style('opacity', isLeaf ? trace.leaf.opacity : null);\n}\n\nmodule.exports = {\n    style: style,\n    styleOne: styleOne\n};\n"]},"metadata":{},"sourceType":"script"}