{"ast":null,"code":"/** @module  gl-util/context */\n'use strict';\n\nvar pick = require('pick-by-alias');\n\nmodule.exports = function setContext(o) {\n  if (!o) o = {};else if (typeof o === 'string') o = {\n    container: o\n  }; // HTMLCanvasElement\n\n  if (isCanvas(o)) {\n    o = {\n      container: o\n    };\n  } // HTMLElement\n  else if (isElement(o)) {\n      o = {\n        container: o\n      };\n    } // WebGLContext\n    else if (isContext(o)) {\n        o = {\n          gl: o\n        };\n      } // options object\n      else {\n          o = pick(o, {\n            container: 'container target element el canvas holder parent parentNode wrapper use ref root node',\n            gl: 'gl context webgl glContext',\n            attrs: 'attributes attrs contextAttributes',\n            pixelRatio: 'pixelRatio pxRatio px ratio pxratio pixelratio',\n            width: 'w width',\n            height: 'h height'\n          }, true);\n        }\n\n  if (!o.pixelRatio) o.pixelRatio = global.pixelRatio || 1; // make sure there is container and canvas\n\n  if (o.gl) {\n    return o.gl;\n  }\n\n  if (o.canvas) {\n    o.container = o.canvas.parentNode;\n  }\n\n  if (o.container) {\n    if (typeof o.container === 'string') {\n      var c = document.querySelector(o.container);\n      if (!c) throw Error('Element ' + o.container + ' is not found');\n      o.container = c;\n    }\n\n    if (isCanvas(o.container)) {\n      o.canvas = o.container;\n      o.container = o.canvas.parentNode;\n    } else if (!o.canvas) {\n      o.canvas = createCanvas();\n      o.container.appendChild(o.canvas);\n      resize(o);\n    }\n  } // blank new canvas\n  else if (!o.canvas) {\n      if (typeof document !== 'undefined') {\n        o.container = document.body || document.documentElement;\n        o.canvas = createCanvas();\n        o.container.appendChild(o.canvas);\n        resize(o);\n      } else {\n        throw Error('Not DOM environment. Use headless-gl.');\n      }\n    } // make sure there is context\n\n\n  if (!o.gl) {\n    ['webgl', 'experimental-webgl', 'webgl-experimental'].some(function (c) {\n      try {\n        o.gl = o.canvas.getContext(c, o.attrs);\n      } catch (e) {\n        /* no-op */\n      }\n\n      return o.gl;\n    });\n  }\n\n  return o.gl;\n};\n\nfunction resize(o) {\n  if (o.container) {\n    if (o.container == document.body) {\n      if (!document.body.style.width) o.canvas.width = o.width || o.pixelRatio * global.innerWidth;\n      if (!document.body.style.height) o.canvas.height = o.height || o.pixelRatio * global.innerHeight;\n    } else {\n      var bounds = o.container.getBoundingClientRect();\n      o.canvas.width = o.width || bounds.right - bounds.left;\n      o.canvas.height = o.height || bounds.bottom - bounds.top;\n    }\n  }\n}\n\nfunction isCanvas(e) {\n  return typeof e.getContext === 'function' && 'width' in e && 'height' in e;\n}\n\nfunction isElement(e) {\n  return typeof e.nodeName === 'string' && typeof e.appendChild === 'function' && typeof e.getBoundingClientRect === 'function';\n}\n\nfunction isContext(e) {\n  return typeof e.drawArrays === 'function' || typeof e.drawElements === 'function';\n}\n\nfunction createCanvas() {\n  var canvas = document.createElement('canvas');\n  canvas.style.position = 'absolute';\n  canvas.style.top = 0;\n  canvas.style.left = 0;\n  return canvas;\n}","map":{"version":3,"sources":["/Users/jingkaisu/Documents/HRfront/HalliganReviews/web_project/node_modules/gl-util/context.js"],"names":["pick","require","module","exports","setContext","o","container","isCanvas","isElement","isContext","gl","attrs","pixelRatio","width","height","global","canvas","parentNode","c","document","querySelector","Error","createCanvas","appendChild","resize","body","documentElement","some","getContext","e","style","innerWidth","innerHeight","bounds","getBoundingClientRect","right","left","bottom","top","nodeName","drawArrays","drawElements","createElement","position"],"mappings":"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","sourcesContent":["/** @module  gl-util/context */\r\n'use strict'\r\n\r\nvar pick = require('pick-by-alias')\r\n\r\nmodule.exports = function setContext (o) {\r\n\tif (!o) o = {}\r\n\telse if (typeof o === 'string') o = {container: o}\r\n\r\n\t// HTMLCanvasElement\r\n\tif (isCanvas(o)) {\r\n\t\to = {container: o}\r\n\t}\r\n\t// HTMLElement\r\n\telse if (isElement(o)) {\r\n\t\to = {container: o}\r\n\t}\r\n\t// WebGLContext\r\n\telse if (isContext(o)) {\r\n\t\to = {gl: o}\r\n\t}\r\n\t// options object\r\n\telse {\r\n\t\to = pick(o, {\r\n\t\t\tcontainer: 'container target element el canvas holder parent parentNode wrapper use ref root node',\r\n\t\t\tgl: 'gl context webgl glContext',\r\n\t\t\tattrs: 'attributes attrs contextAttributes',\r\n\t\t\tpixelRatio: 'pixelRatio pxRatio px ratio pxratio pixelratio',\r\n\t\t\twidth: 'w width',\r\n\t\t\theight: 'h height'\r\n\t\t}, true)\r\n\t}\r\n\r\n\tif (!o.pixelRatio) o.pixelRatio = global.pixelRatio || 1\r\n\r\n\t// make sure there is container and canvas\r\n\tif (o.gl) {\r\n\t\treturn o.gl\r\n\t}\r\n\tif (o.canvas) {\r\n\t\to.container = o.canvas.parentNode\r\n\t}\r\n\tif (o.container) {\r\n\t\tif (typeof o.container === 'string') {\r\n\t\t\tvar c = document.querySelector(o.container)\r\n\t\t\tif (!c) throw Error('Element ' + o.container + ' is not found')\r\n\t\t\to.container = c\r\n\t\t}\r\n\t\tif (isCanvas(o.container)) {\r\n\t\t\to.canvas = o.container\r\n\t\t\to.container = o.canvas.parentNode\r\n\t\t}\r\n\t\telse if (!o.canvas) {\r\n\t\t\to.canvas = createCanvas()\r\n\t\t\to.container.appendChild(o.canvas)\r\n\t\t\tresize(o)\r\n\t\t}\r\n\t}\r\n\t// blank new canvas\r\n\telse if (!o.canvas) {\r\n\t\tif (typeof document !== 'undefined') {\r\n\t\t\to.container = document.body || document.documentElement\r\n\t\t\to.canvas = createCanvas()\r\n\t\t\to.container.appendChild(o.canvas)\r\n\t\t\tresize(o)\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthrow Error('Not DOM environment. Use headless-gl.')\r\n\t\t}\r\n\t}\r\n\r\n\t// make sure there is context\r\n\tif (!o.gl) {\r\n\t\t['webgl', 'experimental-webgl', 'webgl-experimental'].some(function (c) {\r\n\t\t\ttry {\r\n\t\t\t\to.gl = o.canvas.getContext(c, o.attrs);\r\n\t\t\t} catch (e) { /* no-op */ }\r\n\t\t\treturn o.gl;\r\n\t\t});\r\n\t}\r\n\r\n\treturn o.gl\r\n}\r\n\r\n\r\nfunction resize (o) {\r\n\tif (o.container) {\r\n\t\tif (o.container == document.body) {\r\n\t\t\tif (!document.body.style.width) o.canvas.width = o.width || (o.pixelRatio * global.innerWidth)\r\n\t\t\tif (!document.body.style.height) o.canvas.height = o.height || (o.pixelRatio * global.innerHeight)\r\n\t\t}\r\n\t\telse {\r\n\t\t\tvar bounds = o.container.getBoundingClientRect()\r\n\t\t\to.canvas.width = o.width || (bounds.right - bounds.left)\r\n\t\t\to.canvas.height = o.height || (bounds.bottom - bounds.top)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction isCanvas (e) {\r\n\treturn typeof e.getContext === 'function'\r\n\t\t&& 'width' in e\r\n\t\t&& 'height' in e\r\n}\r\n\r\nfunction isElement (e) {\r\n\treturn typeof e.nodeName === 'string' &&\r\n\t\ttypeof e.appendChild === 'function' &&\r\n\t\ttypeof e.getBoundingClientRect === 'function'\r\n}\r\n\r\nfunction isContext (e) {\r\n\treturn typeof e.drawArrays === 'function' ||\r\n\t\ttypeof e.drawElements === 'function'\r\n}\r\n\r\nfunction createCanvas () {\r\n\tvar canvas = document.createElement('canvas')\r\n\tcanvas.style.position = 'absolute'\r\n\tcanvas.style.top = 0\r\n\tcanvas.style.left = 0\r\n\r\n\treturn canvas\r\n}\r\n"]},"metadata":{},"sourceType":"script"}