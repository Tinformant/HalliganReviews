{"ast":null,"code":"// transliterated from the python snippet here:\n// http://en.wikipedia.org/wiki/Lanczos_approximation\nvar g = 7;\nvar p = [0.99999999999980993, 676.5203681218851, -1259.1392167224028, 771.32342877765313, -176.61502916214059, 12.507343278686905, -0.13857109526572012, 9.9843695780195716e-6, 1.5056327351493116e-7];\nvar g_ln = 607 / 128;\nvar p_ln = [0.99999999999999709182, 57.156235665862923517, -59.597960355475491248, 14.136097974741747174, -0.49191381609762019978, 0.33994649984811888699e-4, 0.46523628927048575665e-4, -0.98374475304879564677e-4, 0.15808870322491248884e-3, -0.21026444172410488319e-3, 0.21743961811521264320e-3, -0.16431810653676389022e-3, 0.84418223983852743293e-4, -0.26190838401581408670e-4, 0.36899182659531622704e-5]; // Spouge approximation (suitable for large arguments)\n\nfunction lngamma(z) {\n  if (z < 0) return Number('0/0');\n  var x = p_ln[0];\n\n  for (var i = p_ln.length - 1; i > 0; --i) x += p_ln[i] / (z + i);\n\n  var t = z + g_ln + 0.5;\n  return .5 * Math.log(2 * Math.PI) + (z + .5) * Math.log(t) - t + Math.log(x) - Math.log(z);\n}\n\nmodule.exports = function gamma(z) {\n  if (z < 0.5) {\n    return Math.PI / (Math.sin(Math.PI * z) * gamma(1 - z));\n  } else if (z > 100) return Math.exp(lngamma(z));else {\n    z -= 1;\n    var x = p[0];\n\n    for (var i = 1; i < g + 2; i++) {\n      x += p[i] / (z + i);\n    }\n\n    var t = z + g + 0.5;\n    return Math.sqrt(2 * Math.PI) * Math.pow(t, z + 0.5) * Math.exp(-t) * x;\n  }\n};\n\nmodule.exports.log = lngamma;","map":{"version":3,"sources":["/Users/jingkaisu/Documents/HRfront/HalliganReviews/web_project/node_modules/gamma/index.js"],"names":["g","p","g_ln","p_ln","lngamma","z","Number","x","i","length","t","Math","log","PI","module","exports","gamma","sin","exp","sqrt","pow"],"mappings":"AAAA;AACA;AAEA,IAAIA,CAAC,GAAG,CAAR;AACA,IAAIC,CAAC,GAAG,CACJ,mBADI,EAEJ,iBAFI,EAGJ,CAAC,kBAHG,EAIJ,kBAJI,EAKJ,CAAC,kBALG,EAMJ,kBANI,EAOJ,CAAC,mBAPG,EAQJ,qBARI,EASJ,qBATI,CAAR;AAYA,IAAIC,IAAI,GAAG,MAAI,GAAf;AACA,IAAIC,IAAI,GAAG,CACP,sBADO,EAEP,qBAFO,EAGP,CAAC,qBAHM,EAIP,qBAJO,EAKP,CAAC,sBALM,EAMP,yBANO,EAOP,yBAPO,EAQP,CAAC,yBARM,EASP,yBATO,EAUP,CAAC,yBAVM,EAWP,yBAXO,EAYP,CAAC,yBAZM,EAaP,yBAbO,EAcP,CAAC,yBAdM,EAeP,yBAfO,CAAX,C,CAkBA;;AACA,SAASC,OAAT,CAAiBC,CAAjB,EAAoB;AAEhB,MAAGA,CAAC,GAAG,CAAP,EAAU,OAAOC,MAAM,CAAC,KAAD,CAAb;AACV,MAAIC,CAAC,GAAGJ,IAAI,CAAC,CAAD,CAAZ;;AACA,OAAI,IAAIK,CAAC,GAAGL,IAAI,CAACM,MAAL,GAAc,CAA1B,EAA6BD,CAAC,GAAG,CAAjC,EAAoC,EAAEA,CAAtC,EAAyCD,CAAC,IAAIJ,IAAI,CAACK,CAAD,CAAJ,IAAWH,CAAC,GAAGG,CAAf,CAAL;;AACzC,MAAIE,CAAC,GAAGL,CAAC,GAAGH,IAAJ,GAAW,GAAnB;AACA,SAAO,KAAGS,IAAI,CAACC,GAAL,CAAS,IAAED,IAAI,CAACE,EAAhB,CAAH,GAAuB,CAACR,CAAC,GAAC,EAAH,IAAOM,IAAI,CAACC,GAAL,CAASF,CAAT,CAA9B,GAA0CA,CAA1C,GAA4CC,IAAI,CAACC,GAAL,CAASL,CAAT,CAA5C,GAAwDI,IAAI,CAACC,GAAL,CAASP,CAAT,CAA/D;AACH;;AAEDS,MAAM,CAACC,OAAP,GAAiB,SAASC,KAAT,CAAgBX,CAAhB,EAAmB;AAChC,MAAIA,CAAC,GAAG,GAAR,EAAa;AACT,WAAOM,IAAI,CAACE,EAAL,IAAWF,IAAI,CAACM,GAAL,CAASN,IAAI,CAACE,EAAL,GAAUR,CAAnB,IAAwBW,KAAK,CAAC,IAAIX,CAAL,CAAxC,CAAP;AACH,GAFD,MAGK,IAAGA,CAAC,GAAG,GAAP,EAAY,OAAOM,IAAI,CAACO,GAAL,CAASd,OAAO,CAACC,CAAD,CAAhB,CAAP,CAAZ,KACA;AACDA,IAAAA,CAAC,IAAI,CAAL;AACA,QAAIE,CAAC,GAAGN,CAAC,CAAC,CAAD,CAAT;;AACA,SAAK,IAAIO,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGR,CAAC,GAAG,CAAxB,EAA2BQ,CAAC,EAA5B,EAAgC;AAC5BD,MAAAA,CAAC,IAAIN,CAAC,CAACO,CAAD,CAAD,IAAQH,CAAC,GAAGG,CAAZ,CAAL;AACH;;AACD,QAAIE,CAAC,GAAGL,CAAC,GAAGL,CAAJ,GAAQ,GAAhB;AAEA,WAAOW,IAAI,CAACQ,IAAL,CAAU,IAAIR,IAAI,CAACE,EAAnB,IACDF,IAAI,CAACS,GAAL,CAASV,CAAT,EAAYL,CAAC,GAAG,GAAhB,CADC,GAEDM,IAAI,CAACO,GAAL,CAAS,CAACR,CAAV,CAFC,GAGDH,CAHN;AAKH;AACJ,CAnBD;;AAqBAO,MAAM,CAACC,OAAP,CAAeH,GAAf,GAAqBR,OAArB","sourcesContent":["// transliterated from the python snippet here:\n// http://en.wikipedia.org/wiki/Lanczos_approximation\n\nvar g = 7;\nvar p = [\n    0.99999999999980993,\n    676.5203681218851,\n    -1259.1392167224028,\n    771.32342877765313,\n    -176.61502916214059,\n    12.507343278686905,\n    -0.13857109526572012,\n    9.9843695780195716e-6,\n    1.5056327351493116e-7\n];\n\nvar g_ln = 607/128;\nvar p_ln = [\n    0.99999999999999709182,\n    57.156235665862923517,\n    -59.597960355475491248,\n    14.136097974741747174,\n    -0.49191381609762019978,\n    0.33994649984811888699e-4,\n    0.46523628927048575665e-4,\n    -0.98374475304879564677e-4,\n    0.15808870322491248884e-3,\n    -0.21026444172410488319e-3,\n    0.21743961811521264320e-3,\n    -0.16431810653676389022e-3,\n    0.84418223983852743293e-4,\n    -0.26190838401581408670e-4,\n    0.36899182659531622704e-5\n];\n\n// Spouge approximation (suitable for large arguments)\nfunction lngamma(z) {\n\n    if(z < 0) return Number('0/0');\n    var x = p_ln[0];\n    for(var i = p_ln.length - 1; i > 0; --i) x += p_ln[i] / (z + i);\n    var t = z + g_ln + 0.5;\n    return .5*Math.log(2*Math.PI)+(z+.5)*Math.log(t)-t+Math.log(x)-Math.log(z);\n}\n\nmodule.exports = function gamma (z) {\n    if (z < 0.5) {\n        return Math.PI / (Math.sin(Math.PI * z) * gamma(1 - z));\n    }\n    else if(z > 100) return Math.exp(lngamma(z));\n    else {\n        z -= 1;\n        var x = p[0];\n        for (var i = 1; i < g + 2; i++) {\n            x += p[i] / (z + i);\n        }\n        var t = z + g + 0.5;\n\n        return Math.sqrt(2 * Math.PI)\n            * Math.pow(t, z + 0.5)\n            * Math.exp(-t)\n            * x\n        ;\n    }\n};\n\nmodule.exports.log = lngamma;\n"]},"metadata":{},"sourceType":"script"}