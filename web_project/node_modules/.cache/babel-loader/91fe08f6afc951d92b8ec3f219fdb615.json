{"ast":null,"code":"/**\n* Copyright 2012-2020, Plotly, Inc.\n* All rights reserved.\n*\n* This source code is licensed under the MIT license found in the\n* LICENSE file in the root directory of this source tree.\n*/\n'use strict';\n\nvar Lib = require('../../lib');\n\nvar Axes = require('../../plots/cartesian/axes');\n\nvar calcCommon = require('../ohlc/calc').calcCommon;\n\nmodule.exports = function (gd, trace) {\n  var fullLayout = gd._fullLayout;\n  var xa = Axes.getFromId(gd, trace.xaxis);\n  var ya = Axes.getFromId(gd, trace.yaxis);\n  var x = xa.makeCalcdata(trace, 'x');\n  var cd = calcCommon(gd, trace, x, ya, ptFunc);\n\n  if (cd.length) {\n    Lib.extendFlat(cd[0].t, {\n      num: fullLayout._numBoxes,\n      dPos: Lib.distinctVals(x).minDiff / 2,\n      posLetter: 'x',\n      valLetter: 'y'\n    });\n    fullLayout._numBoxes++;\n    return cd;\n  } else {\n    return [{\n      t: {\n        empty: true\n      }\n    }];\n  }\n};\n\nfunction ptFunc(o, h, l, c) {\n  return {\n    min: l,\n    q1: Math.min(o, c),\n    med: c,\n    q3: Math.max(o, c),\n    max: h\n  };\n}","map":{"version":3,"sources":["/Users/jingkaisu/Documents/HRfront/HalliganReviews/web_project/node_modules/plotly.js/src/traces/candlestick/calc.js"],"names":["Lib","require","Axes","calcCommon","module","exports","gd","trace","fullLayout","_fullLayout","xa","getFromId","xaxis","ya","yaxis","x","makeCalcdata","cd","ptFunc","length","extendFlat","t","num","_numBoxes","dPos","distinctVals","minDiff","posLetter","valLetter","empty","o","h","l","c","min","q1","Math","med","q3","max"],"mappings":"AAAA;;;;;;;AAQA;;AAEA,IAAIA,GAAG,GAAGC,OAAO,CAAC,WAAD,CAAjB;;AACA,IAAIC,IAAI,GAAGD,OAAO,CAAC,4BAAD,CAAlB;;AAEA,IAAIE,UAAU,GAAGF,OAAO,CAAC,cAAD,CAAP,CAAwBE,UAAzC;;AAEAC,MAAM,CAACC,OAAP,GAAiB,UAASC,EAAT,EAAaC,KAAb,EAAoB;AACjC,MAAIC,UAAU,GAAGF,EAAE,CAACG,WAApB;AACA,MAAIC,EAAE,GAAGR,IAAI,CAACS,SAAL,CAAeL,EAAf,EAAmBC,KAAK,CAACK,KAAzB,CAAT;AACA,MAAIC,EAAE,GAAGX,IAAI,CAACS,SAAL,CAAeL,EAAf,EAAmBC,KAAK,CAACO,KAAzB,CAAT;AAEA,MAAIC,CAAC,GAAGL,EAAE,CAACM,YAAH,CAAgBT,KAAhB,EAAuB,GAAvB,CAAR;AAEA,MAAIU,EAAE,GAAGd,UAAU,CAACG,EAAD,EAAKC,KAAL,EAAYQ,CAAZ,EAAeF,EAAf,EAAmBK,MAAnB,CAAnB;;AAEA,MAAGD,EAAE,CAACE,MAAN,EAAc;AACVnB,IAAAA,GAAG,CAACoB,UAAJ,CAAeH,EAAE,CAAC,CAAD,CAAF,CAAMI,CAArB,EAAwB;AACpBC,MAAAA,GAAG,EAAEd,UAAU,CAACe,SADI;AAEpBC,MAAAA,IAAI,EAAExB,GAAG,CAACyB,YAAJ,CAAiBV,CAAjB,EAAoBW,OAApB,GAA8B,CAFhB;AAGpBC,MAAAA,SAAS,EAAE,GAHS;AAIpBC,MAAAA,SAAS,EAAE;AAJS,KAAxB;AAOApB,IAAAA,UAAU,CAACe,SAAX;AACA,WAAON,EAAP;AACH,GAVD,MAUO;AACH,WAAO,CAAC;AAACI,MAAAA,CAAC,EAAE;AAACQ,QAAAA,KAAK,EAAE;AAAR;AAAJ,KAAD,CAAP;AACH;AACJ,CAtBD;;AAwBA,SAASX,MAAT,CAAgBY,CAAhB,EAAmBC,CAAnB,EAAsBC,CAAtB,EAAyBC,CAAzB,EAA4B;AACxB,SAAO;AACHC,IAAAA,GAAG,EAAEF,CADF;AAEHG,IAAAA,EAAE,EAAEC,IAAI,CAACF,GAAL,CAASJ,CAAT,EAAYG,CAAZ,CAFD;AAGHI,IAAAA,GAAG,EAAEJ,CAHF;AAIHK,IAAAA,EAAE,EAAEF,IAAI,CAACG,GAAL,CAAST,CAAT,EAAYG,CAAZ,CAJD;AAKHM,IAAAA,GAAG,EAAER;AALF,GAAP;AAOH","sourcesContent":["/**\n* Copyright 2012-2020, Plotly, Inc.\n* All rights reserved.\n*\n* This source code is licensed under the MIT license found in the\n* LICENSE file in the root directory of this source tree.\n*/\n\n'use strict';\n\nvar Lib = require('../../lib');\nvar Axes = require('../../plots/cartesian/axes');\n\nvar calcCommon = require('../ohlc/calc').calcCommon;\n\nmodule.exports = function(gd, trace) {\n    var fullLayout = gd._fullLayout;\n    var xa = Axes.getFromId(gd, trace.xaxis);\n    var ya = Axes.getFromId(gd, trace.yaxis);\n\n    var x = xa.makeCalcdata(trace, 'x');\n\n    var cd = calcCommon(gd, trace, x, ya, ptFunc);\n\n    if(cd.length) {\n        Lib.extendFlat(cd[0].t, {\n            num: fullLayout._numBoxes,\n            dPos: Lib.distinctVals(x).minDiff / 2,\n            posLetter: 'x',\n            valLetter: 'y',\n        });\n\n        fullLayout._numBoxes++;\n        return cd;\n    } else {\n        return [{t: {empty: true}}];\n    }\n};\n\nfunction ptFunc(o, h, l, c) {\n    return {\n        min: l,\n        q1: Math.min(o, c),\n        med: c,\n        q3: Math.max(o, c),\n        max: h,\n    };\n}\n"]},"metadata":{},"sourceType":"script"}