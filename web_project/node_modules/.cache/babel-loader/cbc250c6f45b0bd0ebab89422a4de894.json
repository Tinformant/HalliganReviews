{"ast":null,"code":"/**\n* Copyright 2012-2020, Plotly, Inc.\n* All rights reserved.\n*\n* This source code is licensed under the MIT license found in the\n* LICENSE file in the root directory of this source tree.\n*/\n'use strict';\n\nvar helpers = require('./helpers');\n\nvar calcHover = require('../scattergl/hover').calcHover;\n\nfunction hoverPoints(pointData, xval, yval) {\n  var cd = pointData.cd;\n  var trace = cd[0].trace;\n  var scene = pointData.scene;\n  var cdata = scene.matrixOptions.cdata;\n  var xa = pointData.xa;\n  var ya = pointData.ya;\n  var xpx = xa.c2p(xval);\n  var ypx = ya.c2p(yval);\n  var maxDistance = pointData.distance;\n  var xi = helpers.getDimIndex(trace, xa);\n  var yi = helpers.getDimIndex(trace, ya);\n  if (xi === false || yi === false) return [pointData];\n  var x = cdata[xi];\n  var y = cdata[yi];\n  var id, dxy;\n  var minDist = maxDistance;\n\n  for (var i = 0; i < x.length; i++) {\n    var ptx = x[i];\n    var pty = y[i];\n    var dx = xa.c2p(ptx) - xpx;\n    var dy = ya.c2p(pty) - ypx;\n    var dist = Math.sqrt(dx * dx + dy * dy);\n\n    if (dist < minDist) {\n      minDist = dxy = dist;\n      id = i;\n    }\n  }\n\n  pointData.index = id;\n  pointData.distance = minDist;\n  pointData.dxy = dxy;\n  if (id === undefined) return [pointData];\n  return [calcHover(pointData, x, y, trace)];\n}\n\nmodule.exports = {\n  hoverPoints: hoverPoints\n};","map":{"version":3,"sources":["/Users/jingkaisu/Documents/HRfront/HalliganReviews/web_project/node_modules/plotly.js/src/traces/splom/hover.js"],"names":["helpers","require","calcHover","hoverPoints","pointData","xval","yval","cd","trace","scene","cdata","matrixOptions","xa","ya","xpx","c2p","ypx","maxDistance","distance","xi","getDimIndex","yi","x","y","id","dxy","minDist","i","length","ptx","pty","dx","dy","dist","Math","sqrt","index","undefined","module","exports"],"mappings":"AAAA;;;;;;;AAQA;;AAEA,IAAIA,OAAO,GAAGC,OAAO,CAAC,WAAD,CAArB;;AACA,IAAIC,SAAS,GAAGD,OAAO,CAAC,oBAAD,CAAP,CAA8BC,SAA9C;;AAEA,SAASC,WAAT,CAAqBC,SAArB,EAAgCC,IAAhC,EAAsCC,IAAtC,EAA4C;AACxC,MAAIC,EAAE,GAAGH,SAAS,CAACG,EAAnB;AACA,MAAIC,KAAK,GAAGD,EAAE,CAAC,CAAD,CAAF,CAAMC,KAAlB;AACA,MAAIC,KAAK,GAAGL,SAAS,CAACK,KAAtB;AACA,MAAIC,KAAK,GAAGD,KAAK,CAACE,aAAN,CAAoBD,KAAhC;AACA,MAAIE,EAAE,GAAGR,SAAS,CAACQ,EAAnB;AACA,MAAIC,EAAE,GAAGT,SAAS,CAACS,EAAnB;AACA,MAAIC,GAAG,GAAGF,EAAE,CAACG,GAAH,CAAOV,IAAP,CAAV;AACA,MAAIW,GAAG,GAAGH,EAAE,CAACE,GAAH,CAAOT,IAAP,CAAV;AACA,MAAIW,WAAW,GAAGb,SAAS,CAACc,QAA5B;AAEA,MAAIC,EAAE,GAAGnB,OAAO,CAACoB,WAAR,CAAoBZ,KAApB,EAA2BI,EAA3B,CAAT;AACA,MAAIS,EAAE,GAAGrB,OAAO,CAACoB,WAAR,CAAoBZ,KAApB,EAA2BK,EAA3B,CAAT;AACA,MAAGM,EAAE,KAAK,KAAP,IAAgBE,EAAE,KAAK,KAA1B,EAAiC,OAAO,CAACjB,SAAD,CAAP;AAEjC,MAAIkB,CAAC,GAAGZ,KAAK,CAACS,EAAD,CAAb;AACA,MAAII,CAAC,GAAGb,KAAK,CAACW,EAAD,CAAb;AAEA,MAAIG,EAAJ,EAAQC,GAAR;AACA,MAAIC,OAAO,GAAGT,WAAd;;AAEA,OAAI,IAAIU,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGL,CAAC,CAACM,MAArB,EAA6BD,CAAC,EAA9B,EAAkC;AAC9B,QAAIE,GAAG,GAAGP,CAAC,CAACK,CAAD,CAAX;AACA,QAAIG,GAAG,GAAGP,CAAC,CAACI,CAAD,CAAX;AACA,QAAII,EAAE,GAAGnB,EAAE,CAACG,GAAH,CAAOc,GAAP,IAAcf,GAAvB;AACA,QAAIkB,EAAE,GAAGnB,EAAE,CAACE,GAAH,CAAOe,GAAP,IAAcd,GAAvB;AACA,QAAIiB,IAAI,GAAGC,IAAI,CAACC,IAAL,CAAUJ,EAAE,GAAGA,EAAL,GAAUC,EAAE,GAAGA,EAAzB,CAAX;;AAEA,QAAGC,IAAI,GAAGP,OAAV,EAAmB;AACfA,MAAAA,OAAO,GAAGD,GAAG,GAAGQ,IAAhB;AACAT,MAAAA,EAAE,GAAGG,CAAL;AACH;AACJ;;AAEDvB,EAAAA,SAAS,CAACgC,KAAV,GAAkBZ,EAAlB;AACApB,EAAAA,SAAS,CAACc,QAAV,GAAqBQ,OAArB;AACAtB,EAAAA,SAAS,CAACqB,GAAV,GAAgBA,GAAhB;AAEA,MAAGD,EAAE,KAAKa,SAAV,EAAqB,OAAO,CAACjC,SAAD,CAAP;AAErB,SAAO,CAACF,SAAS,CAACE,SAAD,EAAYkB,CAAZ,EAAeC,CAAf,EAAkBf,KAAlB,CAAV,CAAP;AACH;;AAED8B,MAAM,CAACC,OAAP,GAAiB;AACbpC,EAAAA,WAAW,EAAEA;AADA,CAAjB","sourcesContent":["/**\n* Copyright 2012-2020, Plotly, Inc.\n* All rights reserved.\n*\n* This source code is licensed under the MIT license found in the\n* LICENSE file in the root directory of this source tree.\n*/\n\n'use strict';\n\nvar helpers = require('./helpers');\nvar calcHover = require('../scattergl/hover').calcHover;\n\nfunction hoverPoints(pointData, xval, yval) {\n    var cd = pointData.cd;\n    var trace = cd[0].trace;\n    var scene = pointData.scene;\n    var cdata = scene.matrixOptions.cdata;\n    var xa = pointData.xa;\n    var ya = pointData.ya;\n    var xpx = xa.c2p(xval);\n    var ypx = ya.c2p(yval);\n    var maxDistance = pointData.distance;\n\n    var xi = helpers.getDimIndex(trace, xa);\n    var yi = helpers.getDimIndex(trace, ya);\n    if(xi === false || yi === false) return [pointData];\n\n    var x = cdata[xi];\n    var y = cdata[yi];\n\n    var id, dxy;\n    var minDist = maxDistance;\n\n    for(var i = 0; i < x.length; i++) {\n        var ptx = x[i];\n        var pty = y[i];\n        var dx = xa.c2p(ptx) - xpx;\n        var dy = ya.c2p(pty) - ypx;\n        var dist = Math.sqrt(dx * dx + dy * dy);\n\n        if(dist < minDist) {\n            minDist = dxy = dist;\n            id = i;\n        }\n    }\n\n    pointData.index = id;\n    pointData.distance = minDist;\n    pointData.dxy = dxy;\n\n    if(id === undefined) return [pointData];\n\n    return [calcHover(pointData, x, y, trace)];\n}\n\nmodule.exports = {\n    hoverPoints: hoverPoints\n};\n"]},"metadata":{},"sourceType":"script"}