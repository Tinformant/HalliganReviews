{"ast":null,"code":"\"use strict\";\n\nvar bindAttribs = require(\"./do-bind.js\");\n\nfunction VertexAttribute(location, dimension, a, b, c, d) {\n  this.location = location;\n  this.dimension = dimension;\n  this.a = a;\n  this.b = b;\n  this.c = c;\n  this.d = d;\n}\n\nVertexAttribute.prototype.bind = function (gl) {\n  switch (this.dimension) {\n    case 1:\n      gl.vertexAttrib1f(this.location, this.a);\n      break;\n\n    case 2:\n      gl.vertexAttrib2f(this.location, this.a, this.b);\n      break;\n\n    case 3:\n      gl.vertexAttrib3f(this.location, this.a, this.b, this.c);\n      break;\n\n    case 4:\n      gl.vertexAttrib4f(this.location, this.a, this.b, this.c, this.d);\n      break;\n  }\n};\n\nfunction VAONative(gl, ext, handle) {\n  this.gl = gl;\n  this._ext = ext;\n  this.handle = handle;\n  this._attribs = [];\n  this._useElements = false;\n  this._elementsType = gl.UNSIGNED_SHORT;\n}\n\nVAONative.prototype.bind = function () {\n  this._ext.bindVertexArrayOES(this.handle);\n\n  for (var i = 0; i < this._attribs.length; ++i) {\n    this._attribs[i].bind(this.gl);\n  }\n};\n\nVAONative.prototype.unbind = function () {\n  this._ext.bindVertexArrayOES(null);\n};\n\nVAONative.prototype.dispose = function () {\n  this._ext.deleteVertexArrayOES(this.handle);\n};\n\nVAONative.prototype.update = function (attributes, elements, elementsType) {\n  this.bind();\n  bindAttribs(this.gl, elements, attributes);\n  this.unbind();\n  this._attribs.length = 0;\n  if (attributes) for (var i = 0; i < attributes.length; ++i) {\n    var a = attributes[i];\n\n    if (typeof a === \"number\") {\n      this._attribs.push(new VertexAttribute(i, 1, a));\n    } else if (Array.isArray(a)) {\n      this._attribs.push(new VertexAttribute(i, a.length, a[0], a[1], a[2], a[3]));\n    }\n  }\n  this._useElements = !!elements;\n  this._elementsType = elementsType || this.gl.UNSIGNED_SHORT;\n};\n\nVAONative.prototype.draw = function (mode, count, offset) {\n  offset = offset || 0;\n  var gl = this.gl;\n\n  if (this._useElements) {\n    gl.drawElements(mode, count, this._elementsType, offset);\n  } else {\n    gl.drawArrays(mode, offset, count);\n  }\n};\n\nfunction createVAONative(gl, ext) {\n  return new VAONative(gl, ext, ext.createVertexArrayOES());\n}\n\nmodule.exports = createVAONative;","map":{"version":3,"sources":["/Users/jingkaisu/Documents/HRfront/HalliganReviews/web_project/node_modules/gl-vao/lib/vao-native.js"],"names":["bindAttribs","require","VertexAttribute","location","dimension","a","b","c","d","prototype","bind","gl","vertexAttrib1f","vertexAttrib2f","vertexAttrib3f","vertexAttrib4f","VAONative","ext","handle","_ext","_attribs","_useElements","_elementsType","UNSIGNED_SHORT","bindVertexArrayOES","i","length","unbind","dispose","deleteVertexArrayOES","update","attributes","elements","elementsType","push","Array","isArray","draw","mode","count","offset","drawElements","drawArrays","createVAONative","createVertexArrayOES","module","exports"],"mappings":"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","sourcesContent":["\"use strict\"\n\nvar bindAttribs = require(\"./do-bind.js\")\n\nfunction VertexAttribute(location, dimension, a, b, c, d) {\n  this.location = location\n  this.dimension = dimension\n  this.a = a\n  this.b = b\n  this.c = c\n  this.d = d\n}\n\nVertexAttribute.prototype.bind = function(gl) {\n  switch(this.dimension) {\n    case 1:\n      gl.vertexAttrib1f(this.location, this.a)\n    break\n    case 2:\n      gl.vertexAttrib2f(this.location, this.a, this.b)\n    break\n    case 3:\n      gl.vertexAttrib3f(this.location, this.a, this.b, this.c)\n    break\n    case 4:\n      gl.vertexAttrib4f(this.location, this.a, this.b, this.c, this.d)\n    break\n  }\n}\n\nfunction VAONative(gl, ext, handle) {\n  this.gl = gl\n  this._ext = ext\n  this.handle = handle\n  this._attribs = []\n  this._useElements = false\n  this._elementsType = gl.UNSIGNED_SHORT\n}\n\nVAONative.prototype.bind = function() {\n  this._ext.bindVertexArrayOES(this.handle)\n  for(var i=0; i<this._attribs.length; ++i) {\n    this._attribs[i].bind(this.gl)\n  }\n}\n\nVAONative.prototype.unbind = function() {\n  this._ext.bindVertexArrayOES(null)\n}\n\nVAONative.prototype.dispose = function() {\n  this._ext.deleteVertexArrayOES(this.handle)\n}\n\nVAONative.prototype.update = function(attributes, elements, elementsType) {\n  this.bind()\n  bindAttribs(this.gl, elements, attributes)\n  this.unbind()\n  this._attribs.length = 0\n  if(attributes)\n  for(var i=0; i<attributes.length; ++i) {\n    var a = attributes[i]\n    if(typeof a === \"number\") {\n      this._attribs.push(new VertexAttribute(i, 1, a))\n    } else if(Array.isArray(a)) {\n      this._attribs.push(new VertexAttribute(i, a.length, a[0], a[1], a[2], a[3]))\n    }\n  }\n  this._useElements = !!elements\n  this._elementsType = elementsType || this.gl.UNSIGNED_SHORT\n}\n\nVAONative.prototype.draw = function(mode, count, offset) {\n  offset = offset || 0\n  var gl = this.gl\n  if(this._useElements) {\n    gl.drawElements(mode, count, this._elementsType, offset)\n  } else {\n    gl.drawArrays(mode, offset, count)\n  }\n}\n\nfunction createVAONative(gl, ext) {\n  return new VAONative(gl, ext, ext.createVertexArrayOES())\n}\n\nmodule.exports = createVAONative"]},"metadata":{},"sourceType":"script"}