{"ast":null,"code":"\"use strict\";\n\nmodule.exports = compareAngle;\n\nvar orient = require(\"robust-orientation\");\n\nvar sgn = require(\"signum\");\n\nvar twoSum = require(\"two-sum\");\n\nvar robustProduct = require(\"robust-product\");\n\nvar robustSum = require(\"robust-sum\");\n\nfunction testInterior(a, b, c) {\n  var x0 = twoSum(a[0], -b[0]);\n  var y0 = twoSum(a[1], -b[1]);\n  var x1 = twoSum(c[0], -b[0]);\n  var y1 = twoSum(c[1], -b[1]);\n  var d = robustSum(robustProduct(x0, x1), robustProduct(y0, y1));\n  return d[d.length - 1] >= 0;\n}\n\nfunction compareAngle(a, b, c, d) {\n  var bcd = orient(b, c, d);\n\n  if (bcd === 0) {\n    //Handle degenerate cases\n    var sabc = sgn(orient(a, b, c));\n    var sabd = sgn(orient(a, b, d));\n\n    if (sabc === sabd) {\n      if (sabc === 0) {\n        var ic = testInterior(a, b, c);\n        var id = testInterior(a, b, d);\n\n        if (ic === id) {\n          return 0;\n        } else if (ic) {\n          return 1;\n        } else {\n          return -1;\n        }\n      }\n\n      return 0;\n    } else if (sabd === 0) {\n      if (sabc > 0) {\n        return -1;\n      } else if (testInterior(a, b, d)) {\n        return -1;\n      } else {\n        return 1;\n      }\n    } else if (sabc === 0) {\n      if (sabd > 0) {\n        return 1;\n      } else if (testInterior(a, b, c)) {\n        return 1;\n      } else {\n        return -1;\n      }\n    }\n\n    return sgn(sabd - sabc);\n  }\n\n  var abc = orient(a, b, c);\n\n  if (abc > 0) {\n    if (bcd > 0 && orient(a, b, d) > 0) {\n      return 1;\n    }\n\n    return -1;\n  } else if (abc < 0) {\n    if (bcd > 0 || orient(a, b, d) > 0) {\n      return 1;\n    }\n\n    return -1;\n  } else {\n    var abd = orient(a, b, d);\n\n    if (abd > 0) {\n      return 1;\n    } else {\n      if (testInterior(a, b, c)) {\n        return 1;\n      } else {\n        return -1;\n      }\n    }\n  }\n}","map":{"version":3,"sources":["/Users/jingkaisu/Documents/HRfront/HalliganReviews/web_project/node_modules/compare-angle/cmpangle.js"],"names":["module","exports","compareAngle","orient","require","sgn","twoSum","robustProduct","robustSum","testInterior","a","b","c","x0","y0","x1","y1","d","length","bcd","sabc","sabd","ic","id","abc","abd"],"mappings":"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","sourcesContent":["\"use strict\"\n\nmodule.exports = compareAngle\n\nvar orient = require(\"robust-orientation\")\nvar sgn = require(\"signum\")\nvar twoSum = require(\"two-sum\")\nvar robustProduct = require(\"robust-product\")\nvar robustSum = require(\"robust-sum\")\n\nfunction testInterior(a, b, c) {\n  var x0 = twoSum(a[0], -b[0])\n  var y0 = twoSum(a[1], -b[1])\n  var x1 = twoSum(c[0], -b[0])\n  var y1 = twoSum(c[1], -b[1])\n\n  var d = robustSum(\n    robustProduct(x0, x1),\n    robustProduct(y0, y1))\n\n  return d[d.length-1] >= 0\n}\n\nfunction compareAngle(a, b, c, d) {\n  var bcd = orient(b, c, d)\n  if(bcd === 0) {\n    //Handle degenerate cases\n    var sabc = sgn(orient(a, b, c))\n    var sabd = sgn(orient(a, b, d))\n    if(sabc === sabd) {\n      if(sabc === 0) {\n        var ic = testInterior(a, b, c)\n        var id = testInterior(a, b, d)\n        if(ic === id) {\n          return 0\n        } else if(ic) {\n          return 1\n        } else {\n          return -1\n        }\n      }\n      return 0\n    } else if(sabd === 0) {\n      if(sabc > 0) {\n        return -1\n      } else if(testInterior(a, b, d)) {\n        return -1\n      } else {\n        return 1\n      }\n    } else if(sabc === 0) {\n      if(sabd > 0) {\n        return 1\n      } else if(testInterior(a, b, c)) {\n        return 1\n      } else {\n        return -1\n      }\n    }\n    return sgn(sabd - sabc)\n  }\n  var abc = orient(a, b, c)\n  if(abc > 0) {\n    if(bcd > 0 && orient(a, b, d) > 0) {\n      return 1\n    }\n    return -1\n  } else if(abc < 0) {\n    if(bcd > 0 || orient(a, b, d) > 0) {\n      return 1\n    }\n    return -1\n  } else {\n    var abd = orient(a, b, d)\n    if(abd > 0) {\n      return 1\n    } else {\n      if(testInterior(a, b, c)) {\n        return 1\n      } else {\n        return -1\n      }\n    }\n  }\n}"]},"metadata":{},"sourceType":"script"}