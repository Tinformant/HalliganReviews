{"ast":null,"code":"/**\n* Copyright 2012-2020, Plotly, Inc.\n* All rights reserved.\n*\n* This source code is licensed under the MIT license found in the\n* LICENSE file in the root directory of this source tree.\n*/\n'use strict';\n\nvar Registry = require('../../registry');\n\nvar Lib = require('../../lib');\n\nvar colorscaleDefaults = require('../../components/colorscale/defaults');\n\nvar attributes = require('./attributes');\n\nmodule.exports = function supplyDefaults(traceIn, traceOut, defaultColor, layout) {\n  function coerce(attr, dflt) {\n    return Lib.coerce(traceIn, traceOut, attributes, attr, dflt);\n  } // read in face/vertex properties\n\n\n  function readComponents(array) {\n    var ret = array.map(function (attr) {\n      var result = coerce(attr);\n      if (result && Lib.isArrayOrTypedArray(result)) return result;\n      return null;\n    });\n    return ret.every(function (x) {\n      return x && x.length === ret[0].length;\n    }) && ret;\n  }\n\n  var coords = readComponents(['x', 'y', 'z']);\n\n  if (!coords) {\n    traceOut.visible = false;\n    return;\n  }\n\n  readComponents(['i', 'j', 'k']); // three indices should be all provided or not\n\n  if (traceOut.i && (!traceOut.j || !traceOut.k) || traceOut.j && (!traceOut.k || !traceOut.i) || traceOut.k && (!traceOut.i || !traceOut.j)) {\n    traceOut.visible = false;\n    return;\n  }\n\n  var handleCalendarDefaults = Registry.getComponentMethod('calendars', 'handleTraceDefaults');\n  handleCalendarDefaults(traceIn, traceOut, ['x', 'y', 'z'], layout); // Coerce remaining properties\n\n  ['lighting.ambient', 'lighting.diffuse', 'lighting.specular', 'lighting.roughness', 'lighting.fresnel', 'lighting.vertexnormalsepsilon', 'lighting.facenormalsepsilon', 'lightposition.x', 'lightposition.y', 'lightposition.z', 'flatshading', 'alphahull', 'delaunayaxis', 'opacity'].forEach(function (x) {\n    coerce(x);\n  });\n  var showContour = coerce('contour.show');\n\n  if (showContour) {\n    coerce('contour.color');\n    coerce('contour.width');\n  }\n\n  if ('intensity' in traceIn) {\n    coerce('intensity');\n    coerce('intensitymode');\n    colorscaleDefaults(traceIn, traceOut, layout, coerce, {\n      prefix: '',\n      cLetter: 'c'\n    });\n  } else {\n    traceOut.showscale = false;\n    if ('facecolor' in traceIn) coerce('facecolor');else if ('vertexcolor' in traceIn) coerce('vertexcolor');else coerce('color', defaultColor);\n  }\n\n  coerce('text');\n  coerce('hovertext');\n  coerce('hovertemplate'); // disable 1D transforms\n  // x/y/z should match lengths, and i/j/k should match as well, but\n  // the two sets have different lengths so transforms wouldn't work.\n\n  traceOut._length = null;\n};","map":{"version":3,"sources":["/Users/jingkaisu/Documents/HRfront/HalliganReviews/web_project/node_modules/plotly.js/src/traces/mesh3d/defaults.js"],"names":["Registry","require","Lib","colorscaleDefaults","attributes","module","exports","supplyDefaults","traceIn","traceOut","defaultColor","layout","coerce","attr","dflt","readComponents","array","ret","map","result","isArrayOrTypedArray","every","x","length","coords","visible","i","j","k","handleCalendarDefaults","getComponentMethod","forEach","showContour","prefix","cLetter","showscale","_length"],"mappings":"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","sourcesContent":["/**\n* Copyright 2012-2020, Plotly, Inc.\n* All rights reserved.\n*\n* This source code is licensed under the MIT license found in the\n* LICENSE file in the root directory of this source tree.\n*/\n\n\n'use strict';\n\nvar Registry = require('../../registry');\nvar Lib = require('../../lib');\nvar colorscaleDefaults = require('../../components/colorscale/defaults');\nvar attributes = require('./attributes');\n\nmodule.exports = function supplyDefaults(traceIn, traceOut, defaultColor, layout) {\n    function coerce(attr, dflt) {\n        return Lib.coerce(traceIn, traceOut, attributes, attr, dflt);\n    }\n\n    // read in face/vertex properties\n    function readComponents(array) {\n        var ret = array.map(function(attr) {\n            var result = coerce(attr);\n\n            if(result && Lib.isArrayOrTypedArray(result)) return result;\n            return null;\n        });\n\n        return ret.every(function(x) {\n            return x && x.length === ret[0].length;\n        }) && ret;\n    }\n\n    var coords = readComponents(['x', 'y', 'z']);\n    if(!coords) {\n        traceOut.visible = false;\n        return;\n    }\n\n    readComponents(['i', 'j', 'k']);\n    // three indices should be all provided or not\n    if(\n        (traceOut.i && (!traceOut.j || !traceOut.k)) ||\n        (traceOut.j && (!traceOut.k || !traceOut.i)) ||\n        (traceOut.k && (!traceOut.i || !traceOut.j))\n    ) {\n        traceOut.visible = false;\n        return;\n    }\n\n    var handleCalendarDefaults = Registry.getComponentMethod('calendars', 'handleTraceDefaults');\n    handleCalendarDefaults(traceIn, traceOut, ['x', 'y', 'z'], layout);\n\n    // Coerce remaining properties\n    [\n        'lighting.ambient',\n        'lighting.diffuse',\n        'lighting.specular',\n        'lighting.roughness',\n        'lighting.fresnel',\n        'lighting.vertexnormalsepsilon',\n        'lighting.facenormalsepsilon',\n        'lightposition.x',\n        'lightposition.y',\n        'lightposition.z',\n        'flatshading',\n        'alphahull',\n        'delaunayaxis',\n        'opacity'\n    ].forEach(function(x) { coerce(x); });\n\n    var showContour = coerce('contour.show');\n    if(showContour) {\n        coerce('contour.color');\n        coerce('contour.width');\n    }\n\n    if('intensity' in traceIn) {\n        coerce('intensity');\n        coerce('intensitymode');\n        colorscaleDefaults(traceIn, traceOut, layout, coerce, {prefix: '', cLetter: 'c'});\n    } else {\n        traceOut.showscale = false;\n\n        if('facecolor' in traceIn) coerce('facecolor');\n        else if('vertexcolor' in traceIn) coerce('vertexcolor');\n        else coerce('color', defaultColor);\n    }\n\n    coerce('text');\n    coerce('hovertext');\n    coerce('hovertemplate');\n\n    // disable 1D transforms\n    // x/y/z should match lengths, and i/j/k should match as well, but\n    // the two sets have different lengths so transforms wouldn't work.\n    traceOut._length = null;\n};\n"]},"metadata":{},"sourceType":"script"}