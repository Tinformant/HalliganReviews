{"ast":null,"code":"/**\n* Copyright 2012-2020, Plotly, Inc.\n* All rights reserved.\n*\n* This source code is licensed under the MIT license found in the\n* LICENSE file in the root directory of this source tree.\n*/\n'use strict';\n\nvar d3 = require('d3');\n\nvar Color = require('../../components/color');\n\nvar Drawing = require('../../components/drawing');\n\nvar Colorscale = require('../../components/colorscale');\n\nfunction style(gd, calcTrace) {\n  if (calcTrace) styleTrace(gd, calcTrace);\n}\n\nfunction styleTrace(gd, calcTrace) {\n  var trace = calcTrace[0].trace;\n  var s = calcTrace[0].node3;\n  var locs = s.selectAll('.choroplethlocation');\n  var marker = trace.marker || {};\n  var markerLine = marker.line || {};\n  var sclFunc = Colorscale.makeColorScaleFuncFromTrace(trace);\n  locs.each(function (d) {\n    d3.select(this).attr('fill', sclFunc(d.z)).call(Color.stroke, d.mlc || markerLine.color).call(Drawing.dashLine, '', d.mlw || markerLine.width || 0).style('opacity', marker.opacity);\n  });\n  Drawing.selectedPointStyle(locs, trace, gd);\n}\n\nfunction styleOnSelect(gd, calcTrace) {\n  var s = calcTrace[0].node3;\n  var trace = calcTrace[0].trace;\n\n  if (trace.selectedpoints) {\n    Drawing.selectedPointStyle(s.selectAll('.choroplethlocation'), trace, gd);\n  } else {\n    styleTrace(gd, calcTrace);\n  }\n}\n\nmodule.exports = {\n  style: style,\n  styleOnSelect: styleOnSelect\n};","map":{"version":3,"sources":["/Users/jingkaisu/Documents/HRfront/HalliganReviews/web_project/node_modules/plotly.js/src/traces/choropleth/style.js"],"names":["d3","require","Color","Drawing","Colorscale","style","gd","calcTrace","styleTrace","trace","s","node3","locs","selectAll","marker","markerLine","line","sclFunc","makeColorScaleFuncFromTrace","each","d","select","attr","z","call","stroke","mlc","color","dashLine","mlw","width","opacity","selectedPointStyle","styleOnSelect","selectedpoints","module","exports"],"mappings":"AAAA;;;;;;;AAQA;;AAEA,IAAIA,EAAE,GAAGC,OAAO,CAAC,IAAD,CAAhB;;AACA,IAAIC,KAAK,GAAGD,OAAO,CAAC,wBAAD,CAAnB;;AACA,IAAIE,OAAO,GAAGF,OAAO,CAAC,0BAAD,CAArB;;AACA,IAAIG,UAAU,GAAGH,OAAO,CAAC,6BAAD,CAAxB;;AAEA,SAASI,KAAT,CAAeC,EAAf,EAAmBC,SAAnB,EAA8B;AAC1B,MAAGA,SAAH,EAAcC,UAAU,CAACF,EAAD,EAAKC,SAAL,CAAV;AACjB;;AAED,SAASC,UAAT,CAAoBF,EAApB,EAAwBC,SAAxB,EAAmC;AAC/B,MAAIE,KAAK,GAAGF,SAAS,CAAC,CAAD,CAAT,CAAaE,KAAzB;AACA,MAAIC,CAAC,GAAGH,SAAS,CAAC,CAAD,CAAT,CAAaI,KAArB;AACA,MAAIC,IAAI,GAAGF,CAAC,CAACG,SAAF,CAAY,qBAAZ,CAAX;AACA,MAAIC,MAAM,GAAGL,KAAK,CAACK,MAAN,IAAgB,EAA7B;AACA,MAAIC,UAAU,GAAGD,MAAM,CAACE,IAAP,IAAe,EAAhC;AAEA,MAAIC,OAAO,GAAGb,UAAU,CAACc,2BAAX,CAAuCT,KAAvC,CAAd;AAEAG,EAAAA,IAAI,CAACO,IAAL,CAAU,UAASC,CAAT,EAAY;AAClBpB,IAAAA,EAAE,CAACqB,MAAH,CAAU,IAAV,EACKC,IADL,CACU,MADV,EACkBL,OAAO,CAACG,CAAC,CAACG,CAAH,CADzB,EAEKC,IAFL,CAEUtB,KAAK,CAACuB,MAFhB,EAEwBL,CAAC,CAACM,GAAF,IAASX,UAAU,CAACY,KAF5C,EAGKH,IAHL,CAGUrB,OAAO,CAACyB,QAHlB,EAG4B,EAH5B,EAGgCR,CAAC,CAACS,GAAF,IAASd,UAAU,CAACe,KAApB,IAA6B,CAH7D,EAIKzB,KAJL,CAIW,SAJX,EAIsBS,MAAM,CAACiB,OAJ7B;AAKH,GAND;AAQA5B,EAAAA,OAAO,CAAC6B,kBAAR,CAA2BpB,IAA3B,EAAiCH,KAAjC,EAAwCH,EAAxC;AACH;;AAED,SAAS2B,aAAT,CAAuB3B,EAAvB,EAA2BC,SAA3B,EAAsC;AAClC,MAAIG,CAAC,GAAGH,SAAS,CAAC,CAAD,CAAT,CAAaI,KAArB;AACA,MAAIF,KAAK,GAAGF,SAAS,CAAC,CAAD,CAAT,CAAaE,KAAzB;;AAEA,MAAGA,KAAK,CAACyB,cAAT,EAAyB;AACrB/B,IAAAA,OAAO,CAAC6B,kBAAR,CAA2BtB,CAAC,CAACG,SAAF,CAAY,qBAAZ,CAA3B,EAA+DJ,KAA/D,EAAsEH,EAAtE;AACH,GAFD,MAEO;AACHE,IAAAA,UAAU,CAACF,EAAD,EAAKC,SAAL,CAAV;AACH;AACJ;;AAED4B,MAAM,CAACC,OAAP,GAAiB;AACb/B,EAAAA,KAAK,EAAEA,KADM;AAEb4B,EAAAA,aAAa,EAAEA;AAFF,CAAjB","sourcesContent":["/**\n* Copyright 2012-2020, Plotly, Inc.\n* All rights reserved.\n*\n* This source code is licensed under the MIT license found in the\n* LICENSE file in the root directory of this source tree.\n*/\n\n'use strict';\n\nvar d3 = require('d3');\nvar Color = require('../../components/color');\nvar Drawing = require('../../components/drawing');\nvar Colorscale = require('../../components/colorscale');\n\nfunction style(gd, calcTrace) {\n    if(calcTrace) styleTrace(gd, calcTrace);\n}\n\nfunction styleTrace(gd, calcTrace) {\n    var trace = calcTrace[0].trace;\n    var s = calcTrace[0].node3;\n    var locs = s.selectAll('.choroplethlocation');\n    var marker = trace.marker || {};\n    var markerLine = marker.line || {};\n\n    var sclFunc = Colorscale.makeColorScaleFuncFromTrace(trace);\n\n    locs.each(function(d) {\n        d3.select(this)\n            .attr('fill', sclFunc(d.z))\n            .call(Color.stroke, d.mlc || markerLine.color)\n            .call(Drawing.dashLine, '', d.mlw || markerLine.width || 0)\n            .style('opacity', marker.opacity);\n    });\n\n    Drawing.selectedPointStyle(locs, trace, gd);\n}\n\nfunction styleOnSelect(gd, calcTrace) {\n    var s = calcTrace[0].node3;\n    var trace = calcTrace[0].trace;\n\n    if(trace.selectedpoints) {\n        Drawing.selectedPointStyle(s.selectAll('.choroplethlocation'), trace, gd);\n    } else {\n        styleTrace(gd, calcTrace);\n    }\n}\n\nmodule.exports = {\n    style: style,\n    styleOnSelect: styleOnSelect\n};\n"]},"metadata":{},"sourceType":"script"}